<%- include('header', {title: 'Rendre', leaflet: false, css: [], js: [], banner: false}); -%>

<h1>Rendre le <%= bike.MARQUE_VELO %> <%= bike.REFERENCE_VELO %></h1>
<div class="row">
    <form class="col s12" method="POST" action="/return/<%= borrow.ID_EMPRUNT %>">
        <div class="range-field col s6">
            <label for="endKm">KM de fin :</label>
            <input type="range" id="endKm" name="endKm" min="<%= borrow.KM_DEBUT_EMPRUNT + 1 %>" max="<%= borrow.KM_DEBUT_EMPRUNT + 500 %>" />
        </div>  
        <div class="input-field col s6">
            <input id="stationID" name="stationID" type="number" value="<%= stations[0].ID_STATION %>" readonly>
            <label for="stationID">Station :</label>
        </div>
        <div class="col s12">
            <button type="submit" class="waves-effect waves-light btn">Rendre</button>
        </div>
    </form>
</div>
<div class="row">
    <div class="col s10 offset-s1">
        <h1>Choisissez une station de rendu :</h1>
        <table class="centered highlight responsive-table">
            <thead class="red accent-1">
                    <tr>
                        <th colspan="1">Adresse</th>
                        <th colspan="1">Nombre de places disponnibles</th>
                    </tr>
                </thead>
                <tbody>
                    <% stations.forEach(station => { %>
                    <tr class="active" onclick="document.getElementById('stationID').value = '<%= station.ID_STATION %>'">
                        <td><%= station.ADRESSE_STATION %></td>
                        <td><%= station.RATIO %></td>
                    </tr>
                    <% }); %>
                </tbody>
        </table>
    </div>
<div>

<%- include('footer'); -%>
